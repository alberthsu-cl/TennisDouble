# 賽事設定使用指南

## 新功能：彈性賽事設定 🎯

系統現在支援彈性設定，不再限制於固定的 40 人、5 點、3 輪！

## 設定位置

在**賽事設定**頁面（開始賽事前），您會看到一個新的「⚙️ 賽事設定」面板。

## 可設定項目

### 1. 每隊人數 👥
- **範圍**：4-20 人
- **預設值**：10 人
- **說明**：設定每隊的正式選手人數
- **總人數顯示**：系統會自動顯示總選手數（4 隊 × 每隊人數）

**範例：**
- 每隊 6 人 → 總共 24 人
- 每隊 10 人 → 總共 40 人（預設）
- 每隊 15 人 → 總共 60 人

### 2. 每輪點數 🎾
- **範圍**：3-10 點
- **預設值**：5 點
- **說明**：每場對戰要打幾點雙打

**規則：**
- 第 1 點到第 (N-1) 點：年齡遞增
- 第 N 點（最後一點）：混雙或女雙

**範例：**
- 3 點：前 2 點年齡遞增，第 3 點混雙/女雙
- 5 點：前 4 點年齡遞增，第 5 點混雙/女雙（預設）
- 7 點：前 6 點年齡遞增，第 7 點混雙/女雙

### 3. 總輪數 🔄
- **範圍**：1-5 輪
- **預設值**：3 輪
- **說明**：整個賽事要進行幾輪

**對戰組合（固定）：**
- 甲隊 vs 乙隊
- 甲隊 vs 丙隊
- 甲隊 vs 丁隊
- 乙隊 vs 丙隊
- 乙隊 vs 丁隊
- 丙隊 vs 丁隊

每輪都會進行這 6 組對戰。

### 4. 每人最少出賽 📊
- **自動計算**
- **顯示方式**：大字體顯示在黃色框中
- **說明**：根據設定自動計算每位正式選手至少要出賽幾場

**計算公式：**
```
總比賽數 = 總輪數 × 6 對戰 × 每輪點數
總位置數 = 總比賽數 × 4（每場4個位置）
最少出賽 = 總位置數 ÷ 總選手數（向下取整）
```

## 賽事總覽

設定面板下方會顯示：
- ✓ 總比賽數
- ✓ 每輪對戰組合數
- ✓ 每組對戰點數

## 使用範例

### 範例 1：快速測試賽
**適用情境**：練習、測試、短時間賽事

**建議設定：**
- 每隊人數：6 人
- 每輪點數：3 點
- 總輪數：2 輪

**結果：**
- 總選手：24 人
- 總比賽：36 場
- 每人約出賽：6 場

### 範例 2：標準比賽（預設）
**適用情境**：正式比賽、完整賽事

**設定：**
- 每隊人數：10 人
- 每輪點數：5 點
- 總輪數：3 輪

**結果：**
- 總選手：40 人
- 總比賽：90 場
- 每人約出賽：9 場

### 範例 3：大型錦標賽
**適用情境**：大型活動、長時間賽事

**建議設定：**
- 每隊人數：15 人
- 每輪點數：7 點
- 總輪數：4 輪

**結果：**
- 總選手：60 人
- 總比賽：168 場
- 每人約出賽：11 場

## 操作流程

### 步驟 1：設定參數
1. 進入「賽事設定」頁面
2. 在「⚙️ 賽事設定」面板中調整參數
3. 觀察「每人最少出賽」自動更新
4. 查看「賽事總覽」確認設定

### 步驟 2：管理選手
1. 點擊「選手管理」
2. 根據設定新增正式選手
   - 每隊需要達到設定的人數
   - 可另外加入候補選手（不計入名額）
3. 觀察賽事設定頁面的「隊伍人數狀態」

### 步驟 3：開始賽事
選擇以下任一方式：

**方式A：自動生成賽程**
- 系統自動配對所有比賽
- 符合年齡遞增規則
- 最後一點自動配置混雙/女雙
- 適合快速開始

**方式B：手動配對設定**
- 完全控制每場比賽的配對
- 可以策略性安排選手
- 系統會驗證所有規則
- 適合正式比賽

## 規則說明

### 固定規則（不受設定影響）
- ✓ 固定 4 隊（甲、乙、丙、丁）
- ✓ 每場比賽都是雙打（2 vs 2）
- ✓ 比賽採 5 局 NO-AD 制
- ✓ 4:4 時進行 Tie-break 搶 7
- ✓ 候補選手不計入隊伍名額

### 動態規則（隨設定變化）
- ✓ 總選手數 = 每隊人數 × 4
- ✓ 年齡遞增點數 = 1 到 (每輪點數 - 1)
- ✓ 混雙/女雙點數 = 每輪點數（最後一點）
- ✓ 每人最少出賽場次（自動計算）
- ✓ 總比賽數 = 總輪數 × 6 × 每輪點數

## 注意事項

### ⚠️ 設定時機
- 賽事設定只能在**開始賽事前**調整
- 賽事開始後無法修改設定
- 需要重新設定請使用「重置賽事」功能

### ⚠️ 選手人數
- 每隊必須達到設定的正式選手人數
- 候補選手可以隨時加入，不受限制
- 系統會在隊伍人數狀態中顯示進度

### ⚠️ 合理範圍
雖然系統允許很大的設定範圍，但建議：
- 每隊人數：6-15 人（太少配對困難，太多比賽過多）
- 每輪點數：3-7 點（太少缺乏競爭性，太多耗時過長）
- 總輪數：2-4 輪（太少不夠公平，太多過於冗長）

### ⚠️ 最少出賽次數
- 系統會自動計算合理的最少出賽次數
- 正式選手必須達到這個次數
- 候補選手不受此限制
- 如果計算值過高或過低，請調整設定參數

## 常見問題

### Q1：為什麼我的設定顯示每人要出賽 15 場？
**A：** 可能是設定不合理，例如：
- 輪數過多
- 每輪點數過多  
- 每隊人數過少
- 建議調整參數使比賽數量更合理

### Q2：可以設定 3 隊或 5 隊嗎？
**A：** 目前固定為 4 隊（甲、乙、丙、丁），未來版本可能支援。

### Q3：候補選手要計入每隊人數嗎？
**A：** 不用！候補選手不計入隊伍人數限制，可以無限新增。

### Q4：修改設定後原有選手會消失嗎？
**A：** 不會！選手資料保持不變，只是驗證規則會根據新設定調整。

### Q5：可以儲存常用的設定嗎？
**A：** 目前尚不支援，但系統會記住最後使用的設定。未來版本可能加入設定範本功能。

## 建議設定組合

### 🏃 快速賽（1-2小時）
- 每隊：6 人
- 每輪：3 點
- 總輪：1 輪
- 總比賽：18 場

### ⚡ 標準賽（3-4小時）  
- 每隊：8 人
- 每輪：4 點
- 總輪：2 輪
- 總比賽：48 場

### 🎯 正式賽（半天）
- 每隊：10 人
- 每輪：5 點
- 總輪：3 輪
- 總比賽：90 場

### 🏆 錦標賽（全天）
- 每隊：12 人
- 每輪：6 點
- 總輪：3 輪
- 總比賽：108 場

---

## 資料儲存

所有設定會自動儲存到瀏覽器，包括：
- ✓ 賽事設定參數
- ✓ 選手資料
- ✓ 比賽記錄
- ✓ 計分資料

**重要：** 清除瀏覽器資料會導致所有資料遺失！

---

**有問題嗎？** 系統會在每個步驟提供即時驗證和錯誤提示，請注意查看！

**祝比賽順利！** 🎾✨
