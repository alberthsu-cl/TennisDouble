# 動態約束測試清單 - Dynamic Constraints Testing Checklist

## 🧪 測試目標

驗證所有系統約束都能根據可配置設定正確運作，不存在任何硬編碼限制衝突。

**測試網址：** http://localhost:5174/

---

## ✅ 基本功能測試

### 測試 1：預設值驗證
**設定：** 10人/5點/3輪（系統預設）

- [ ] 開啟應用程式
- [ ] 確認「賽事設定」顯示：
  - 每隊人數：10（總人數: 40）
  - 每輪點數：5
  - 總輪數：3
  - 每人最少出賽：2 場
- [ ] 點擊「📋 規則說明」
- [ ] 確認顯示：
  - 參賽共40名
  - 分成四隊：甲隊10人、乙隊10人、丙隊10人、丁隊10人
  - 打5點雙打
  - 第1點至第4點：歲數遞增
  - 第5點：混雙或女雙
  - 每位正式選手至少須出賽2場

**預期結果：** ✅ 所有預設值顯示正確

---

### 測試 2：載入示範資料（預設設定）
**前置條件：** 測試1完成

- [ ] 在「賽事設定」點擊「載入示範資料」
- [ ] 切換到「選手管理」
- [ ] 確認顯示「正式選手：40/40 人」
- [ ] 確認每隊顯示：
  - 甲隊 (10/10 人)
  - 乙隊 (10/10 人)
  - 丙隊 (10/10 人)
  - 丁隊 (10/10 人)
- [ ] 確認總共有40名選手
- [ ] 確認男女比例約為 6:4

**預期結果：** ✅ 生成40名選手，每隊10人

---

## 🔄 動態設定測試

### 測試 3：變更每隊人數為 8
**操作步驟：**

1. [ ] 重置瀏覽器（F5 刷新或清除 localStorage）
2. [ ] 在「賽事設定」將「每隊人數」改為 8
3. [ ] 確認即時更新：
   - 總人數: 32
   - 每人最少出賽：2 場（自動計算）
4. [ ] 點擊「📋 規則說明」確認：
   - 參賽共32名
   - 每隊8人
5. [ ] 點擊「載入示範資料」
6. [ ] 切換到「選手管理」
7. [ ] 確認顯示「正式選手：32/32 人」
8. [ ] 確認每隊顯示「(8/8 人)」
9. [ ] 嘗試新增第9位選手到甲隊
10. [ ] 確認提示「甲隊已滿8人，請選擇其他隊伍或設為候補」
11. [ ] 新增選手時勾選「候補選手」
12. [ ] 確認顯示「不計入隊伍8人名額」

**預期結果：** ✅ 所有相關數字動態更新為 8人/隊

---

### 測試 4：變更每輪點數為 7
**操作步驟：**

1. [ ] 在「賽事設定」將「每輪點數」改為 7
2. [ ] 確認「每人最少出賽」重新計算
3. [ ] 點擊「📋 規則說明」確認：
   - 打7點雙打
   - 第1點至第6點：歲數遞增
   - 第7點：混雙或女雙
4. [ ] 點擊「手動配對設定」
5. [ ] 選擇任一對戰組合
6. [ ] 確認有「第1點」到「第7點」共7個點數選項
7. [ ] 嘗試在「第6點」配置混雙
8. [ ] 嘗試在「第7點」配置混雙
9. [ ] 點擊「驗證配對」（如果可用）

**預期結果：** ✅ 點數選項和驗證規則動態調整

---

### 測試 5：變更總輪數為 5
**操作步驟：**

1. [ ] 在「賽事設定」將「總輪數」改為 5
2. [ ] 確認「每人最少出賽」重新計算
3. [ ] 載入示範資料（如未載入）
4. [ ] 點擊「手動配對設定」
5. [ ] 確認可以選擇「第1輪」到「第5輪」
6. [ ] 切換不同輪次確認配對介面正常

**預期結果：** ✅ 輪次選項和計算動態調整

---

### 測試 6：極限值測試 - 最小配置
**設定：** 4人/3點/1輪

**操作步驟：**

1. [ ] 設定每隊人數：4
2. [ ] 設定每輪點數：3
3. [ ] 設定總輪數：1
4. [ ] 確認顯示：
   - 總人數: 16
   - 每人最少出賽：1 場
5. [ ] 點擊「📋 規則說明」確認：
   - 參賽共16名
   - 每隊4人
   - 打3點雙打
   - 第1點至第2點：歲數遞增
   - 第3點：混雙或女雙
   - 至少須出賽1場
6. [ ] 載入示範資料
7. [ ] 確認生成16名選手，每隊4人
8. [ ] 嘗試新增第5位選手到任一隊
9. [ ] 確認提示「已滿4人」

**預期結果：** ✅ 最小配置運作正常

---

### 測試 7：極限值測試 - 最大配置
**設定：** 20人/10點/5輪

**操作步驟：**

1. [ ] 設定每隊人數：20
2. [ ] 設定每輪點數：10
3. [ ] 設定總輪數：5
4. [ ] 確認顯示：
   - 總人數: 80
   - 每人最少出賽：約 7-9 場（根據計算）
5. [ ] 點擊「📋 規則說明」確認：
   - 參賽共80名
   - 每隊20人
   - 打10點雙打
   - 第1點至第9點：歲數遞增
   - 第10點：混雙或女雙
6. [ ] 載入示範資料
7. [ ] 確認生成80名選手，每隊20人
8. [ ] 檢查名字是否有重複（應使用模數避免重複）
9. [ ] 嘗試新增第21位選手到任一隊
10. [ ] 確認提示「已滿20人」

**預期結果：** ✅ 最大配置運作正常

---

## 🎯 進階功能測試

### 測試 8：設定變更後的賽程生成
**操作步驟：**

1. [ ] 設定：6人/4點/2輪
2. [ ] 載入示範資料（24名選手）
3. [ ] 確認每隊6人
4. [ ] 點擊「自動生成賽程」
5. [ ] 切換到「比賽記錄」
6. [ ] 確認生成的比賽：
   - 每場比賽有4點（第1-3點、第4點）
   - 共2輪比賽
   - 總場次 = 6組對戰 × 4點 × 2輪 = 48場
7. [ ] 檢查任意比賽的配對是否符合規則

**預期結果：** ✅ 賽程根據設定正確生成

---

### 測試 9：手動配對與動態設定
**操作步驟：**

1. [ ] 設定：8人/6點/3輪
2. [ ] 載入示範資料
3. [ ] 點擊「手動配對設定」
4. [ ] 選擇「甲隊 vs 乙隊」
5. [ ] 確認有第1-6點可配對
6. [ ] 配置第1-5點（歲數遞增）
7. [ ] 配置第6點（混雙或女雙）
8. [ ] 點擊「驗證配對」
9. [ ] 確認驗證規則正確：
   - 第1-5點年齡需遞增
   - 第6點需為混雙或女雙
10. [ ] 嘗試儲存範本
11. [ ] 變更設定為 8人/4點/3輪
12. [ ] 載入剛才的範本
13. [ ] 確認出現警告「設定不相容」

**預期結果：** ✅ 手動配對遵循動態規則，範本檢查設定相容性

---

### 測試 10：選手出賽次數限制
**操作步驟：**

1. [ ] 設定：10人/5點/3輪
2. [ ] 載入示範資料
3. [ ] 生成賽程
4. [ ] 切換到「比賽記錄」
5. [ ] 完成多場比賽（更新成績）
6. [ ] 檢查「選手管理」的「已出賽」欄位
7. [ ] 確認沒有選手超過3場（總輪數）
8. [ ] 變更設定：總輪數改為5
9. [ ] 重置賽事
10. [ ] 重新生成賽程
11. [ ] 確認現在選手最多可出賽5場

**預期結果：** ✅ 出賽次數上限跟隨總輪數動態調整

---

## 🔍 UI/UX 檢查

### 測試 11：即時更新驗證
**操作步驟：**

1. [ ] 打開「賽事設定」
2. [ ] 逐步調整「每隊人數」滑桿
3. [ ] 觀察「總人數」即時更新
4. [ ] 觀察「每人最少出賽」即時重新計算
5. [ ] 調整「每輪點數」
6. [ ] 觀察「每人最少出賽」即時重新計算
7. [ ] 調整「總輪數」
8. [ ] 觀察「每人最少出賽」即時重新計算

**預期結果：** ✅ 所有相關數值即時同步更新

---

### 測試 12：錯誤訊息動態化
**操作步驟：**

1. [ ] 設定：5人/5點/3輪
2. [ ] 不載入示範資料
3. [ ] 嘗試點擊「自動生成賽程」
4. [ ] 確認錯誤訊息：「請確保有正好20名正式選手（每隊5人）」
5. [ ] 變更為：8人/5點/3輪
6. [ ] 再次嘗試生成賽程
7. [ ] 確認錯誤訊息：「請確保有正好32名正式選手（每隊8人）」

**預期結果：** ✅ 錯誤訊息顯示正確的動態數值

---

## 📱 跨平台測試

### 測試 13：響應式設計
**操作步驟：**

1. [ ] 在桌面瀏覽器測試所有功能
2. [ ] 縮小瀏覽器視窗模擬平板
3. [ ] 確認設定面板正確顯示
4. [ ] 繼續縮小模擬手機
5. [ ] 確認所有動態數值可見
6. [ ] 確認輸入框和按鈕可操作

**預期結果：** ✅ 各種螢幕尺寸下動態內容顯示正常

---

## 🐛 邊界情況測試

### 測試 14：連續變更設定
**操作步驟：**

1. [ ] 快速連續變更「每隊人數」（4→10→20→8）
2. [ ] 確認計算不會出錯
3. [ ] 確認沒有延遲或卡頓
4. [ ] 快速連續變更所有三個參數
5. [ ] 確認「每人最少出賽」正確計算
6. [ ] 重新整理頁面
7. [ ] 確認設定已保存（localStorage）

**預期結果：** ✅ 連續變更不會造成錯誤

---

### 測試 15：無效輸入處理
**操作步驟：**

1. [ ] 嘗試在「每隊人數」輸入 0
2. [ ] 確認自動修正或顯示錯誤
3. [ ] 嘗試輸入 30（超過上限20）
4. [ ] 確認限制在20
5. [ ] 嘗試輸入負數
6. [ ] 確認無法輸入或自動修正
7. [ ] 嘗試輸入小數 5.5
8. [ ] 確認轉換為整數

**預期結果：** ✅ 所有無效輸入被正確處理

---

## 📊 測試結果記錄

### 執行資訊
- **測試日期：** _____________
- **測試人員：** _____________
- **瀏覽器：** _____________
- **作業系統：** _____________

### 測試統計
- **總測試項目：** 15
- **通過項目：** _____ / 15
- **失敗項目：** _____ / 15
- **跳過項目：** _____ / 15

### 發現的問題
| 測試編號 | 問題描述 | 嚴重程度 | 狀態 |
|---------|---------|---------|------|
|         |         |         |      |
|         |         |         |      |
|         |         |         |      |

### 改進建議
1. ________________________________
2. ________________________________
3. ________________________________

---

## ✅ 驗收標準

系統通過驗收需滿足：
- ✅ 所有15項測試通過
- ✅ 無嚴重 (Critical) 或高 (High) 優先級錯誤
- ✅ 中 (Medium) 優先級錯誤 < 3個
- ✅ 所有動態約束正確運作
- ✅ 無硬編碼衝突
- ✅ UI顯示一致性100%

---

## 🎯 快速驗證腳本

如果時間有限，可以執行以下最小測試集：

### 快速測試（5分鐘）
1. ✅ 測試1：預設值驗證
2. ✅ 測試2：載入示範資料
3. ✅ 測試3：變更每隊人數為8
4. ✅ 測試11：即時更新驗證

### 標準測試（15分鐘）
- 快速測試 + 測試4、5、8、9

### 完整測試（30-45分鐘）
- 所有15項測試

---

**測試完成後請更新 [DYNAMIC_CONSTRAINTS_UPDATE.md](./DYNAMIC_CONSTRAINTS_UPDATE.md) 的驗證清單！**
